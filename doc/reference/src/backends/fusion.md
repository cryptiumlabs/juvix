- Higher-level representation of the backend as a value/type in the language? ...so, ideally, if we do that nicely, it will also be possible to typecheck as one project (set of source files which can co-reference each other) a multi-chain / multi-backend application.
- It will be possible to typecheck as one project (set of source files which can co-reference each other) a multi-chain / multi-backend application.
- Architecturally, we would do this by having individual parameterisations of core per backend, one 'meta-parameterisation' combining them all, and a downcast function, run at compile time, that evaluates the term, walks all primitives, and either succeeds in translating them to a single backend or fails if terms from other backends are still present.
- Another aspect to consider is automatic "wire format" conversion between backends - e.g. if you define a datatype which is passed between Michelson & a zk-SNARK circuit, the two backends will utilise different underlying representations, which must be correctly converted between if the Michelson code calls the zk-SNARK verifier. Hopefully there is a clean way to do this automatically (& thereby save time for the developer and remove the risk of silly encoding mistakes).
